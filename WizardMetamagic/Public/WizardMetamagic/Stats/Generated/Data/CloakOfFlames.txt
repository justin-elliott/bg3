new entry "WizardMetamagic_CloakOfFlames"
type "SpellData"
data "SpellType" "Shout"
data "Level" "1"
data "SpellSchool" "Abjuration"
data "SpellProperties" "ApplyStatus(WIZARD_METAMAGIC_CLOAK_OF_FLAMES,100,-1)"
data "TargetConditions" "Self()"
data "Icon" "Spell_Evocation_FireShield_Warm"
data "DisplayName" "WizardMetamagic_CloakOfFlames_DisplayName"
data "Description" "WizardMetamagic_CloakOfFlames_Description"
data "DescriptionParams" "GainTemporaryHitPoints(LevelMapValue(WizardMetamagic_CloakOfFlamesValue));DealDamage(LevelMapValue(WizardMetamagic_CloakOfFlamesValue),Fire)"
data "TooltipStatusApply" "ApplyStatus(WIZARD_METAMAGIC_CLOAK_OF_FLAMES,100,-1)"
data "TooltipPermanentWarnings" "8892b93b-721f-4b99-b9b4-05ac25aadb33"
data "CastSound" "Spell_Cast_Utility_FireshieldWarm_L4to5"
data "TargetSound" "Spell_Impact_Utility_FireshieldWarm_L4to5"
data "PreviewCursor" "Cast"
data "CastTextEvent" "Cast"
data "UseCosts" "ActionPoint:1"
data "SpellAnimation" "dd86aa43-8189-4d9f-9a5c-454b5fe4a197,,;,,;09ae2f11-f5b4-42f5-ae16-687a5b57d500,,;10caea0e-c949-4d91-8ab7-3b50019dd054,,;cc5b0caf-3ed1-4711-a50d-11dc3f1fdc6a,,;,,;1715b877-4512-472e-9bd0-fd568a112e90,,;,,;,,"
data "VerbalIntent" "Buff"
data "SpellStyleGroup" "Class"
data "SpellFlags" "IsSpell;HasSomaticComponent;HasVerbalComponent"
data "HitAnimationType" "MagicalNonDamage"
data "MemoryCost" "1"
data "PrepareEffect" "ab9a9a13-7ceb-46ee-bd9e-74c044516fb1"
data "CastEffect" "859bdcb8-c4dc-487d-8e44-452b1be1c034"

new entry "WIZARD_METAMAGIC_CLOAK_OF_FLAMES"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "WizardMetamagic_CloakOfFlames_DisplayName"
data "Description" "WizardMetamagic_CloakOfFlames_Description"
data "DescriptionParams" "GainTemporaryHitPoints(LevelMapValue(WizardMetamagic_CloakOfFlamesValue));DealDamage(LevelMapValue(WizardMetamagic_CloakOfFlamesValue),Fire)"
data "Icon" "Spell_Evocation_FireShield_Warm"
data "SoundLoop" "Spell_Status_ArmorOfAgathys_MO"
data "SoundStop" "Spell_Status_ArmorOfAgathys_MO_Stop"
data "StackId" "TEMPORARY_HP"
data "StackPriority" "10"
data "Boosts" "TemporaryHP(LevelMapValue(WizardMetamagic_CloakOfFlamesValue))"
data "Passives" "WizardMetamagic_CloakOfFlames_Passive"
data "RemoveConditions" "not HasTemporaryHP()"
data "RemoveEvents" "OnDamage"
data "OnApplyFunctors" "AI_ONLY:IF(not HasStatus('WIZARD_METAMAGIC_CLOAK_OF_FLAMES')):ApplyStatus(SELF,AI_HELPER_BUFF_SMALL,100,3)"
data "StatusGroups" "SG_RemoveOnRespec"
data "StatusEffect" "a25f92a9-7078-4a5f-8648-c0bb9f4fee39"

new entry "WizardMetamagic_CloakOfFlames_Passive"
type "PassiveData"
data "DisplayName" "WizardMetamagic_CloakOfFlames_DisplayName"
data "Description" "WizardMetamagic_CloakOfFlames_Description"
data "DescriptionParams" "GainTemporaryHitPoints(LevelMapValue(WizardMetamagic_CloakOfFlamesValue));DealDamage(LevelMapValue(WizardMetamagic_CloakOfFlamesValue),Fire)"
data "Icon" "Spell_Evocation_FireShield_Warm"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnAttacked"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit) and not SpellTypeIs(SpellType.Throw)"
data "StatsFunctors" "ApplyStatus(PASSIVE_FIRE_SHIELD_WARM,100,0);ApplyStatus(SELF,PASSIVE_FIRE_SHIELD_WARM_ATTACKER,100,0);DealDamage(SWAP,LevelMapValue(WizardMetamagic_CloakOfFlamesValue),Fire,Magical)"
